{
  "id": "re0",
  "version": "v0.0.0",
  "name": "LifeRestart",
  "scopeName": "source.re0",
  "fileTypes": [
    "re0",
    "life"
  ],
  "uuid": "985735d9-c190-4f73-8c84-3628ac693154",
  "information_for_contributors": [
    "aster: 19260817@qq.com"
  ],
  "patterns": [
    {
      "include": "#comment"
    },
    {
      "include": "#property"
    },
    {
      "include": "#trait"
    },
    {
      "include": "#event-group"
    },
    {
      "include": "#event"
    }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "match": "//.$",
          "name": "comment.line.re0"
        }
      ]
    },
    "property": {
      "patterns": [
        {
          "name": "meta.property.re0",
          "begin": "(属性)\\s+([\\p{L}\\d]+)+\\s*{",
          "beginCaptures": {
            "1": {
              "name": "keyword.control.re0"
            },
            "2": {
              "name": "support.type.primitive.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#id"
            },
            {
              "include": "#description"
            },
            {
              "include": "#options"
            },
            {
              "include": "#conditions"
            },
            {
              "include": "#effects"
            }
          ]
        }
      ]
    },
    "trait": {
      "patterns": [
        {
          "name": "meta.trait.re0",
          "begin": "(特质)\\s+([\\p{L}\\d]+)+\\s*{",
          "beginCaptures": {
            "1": {
              "name": "keyword.control.re0"
            },
            "2": {
              "name": "support.type.primitive.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#id"
            },
            {
              "include": "#description"
            },
            {
              "include": "#options"
            },
            {
              "include": "#conditions"
            },
            {
              "include": "#effects"
            }
          ]
        }
      ]
    },
    "event-group": {
      "patterns": [
        {
          "name": "meta.event-group.re0",
          "begin": "(事件组)\\s+([\\p{L}\\d]+)+\\s*{",
          "beginCaptures": {
            "1": {
              "name": "keyword.control.re0"
            },
            "2": {
              "name": "support.type.primitive.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#event-group-item"
            }
          ]
        }
      ]
    },
    "event-group-item": {
      "patterns": [
        {
          "begin": "(事件)?\\s+([\\p{L}\\d]+)+\\s*{",
          "beginCaptures": {
            "1": {
              "name": "keyword.control.re0"
            },
            "2": {
              "name": "support.type.primitive.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#id"
            },
            {
              "include": "#description"
            },
            {
              "include": "#options"
            },
            {
              "include": "#conditions"
            },
            {
              "include": "#effects"
            }
          ],
          "name": "meta.event.re0"
        }
      ]
    },
    "event": {
      "patterns": [
        {
          "begin": "(事件)\\s+([\\p{L}\\d]+)+\\s*{",
          "beginCaptures": {
            "1": {
              "name": "keyword.control.re0"
            },
            "2": {
              "name": "support.type.primitive.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#id"
            },
            {
              "include": "#description"
            },
            {
              "include": "#options"
            },
            {
              "include": "#conditions"
            },
            {
              "include": "#effects"
            }
          ],
          "name": "meta.event.re0"
        }
      ]
    },
    "id": {
      "patterns": [
        {
          "match": "ID\\s+\\d+",
          "name": "variable.other.property.re0"
        }
      ]
    },
    "description": {
      "patterns": [
        {
          "match": "(动态描述|描述)(?:\\s+(\"[^\"]+\"))?",
          "name": "string.quoted.double.re0"
        }
      ]
    },
    "options": {
      "patterns": [
        {
          "begin": "(选项)\\s*{",
          "beginCaptures": {
            "0": {
              "name": "keyword.control.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#option"
            }
          ],
          "name": "meta.options.re0"
        }
      ]
    },
    "option": {
      "patterns": [
        {
          "name": "constant.character.option.re0",
          "match": "\\p{L}+"
        }
      ]
    },
    "conditions": {
      "patterns": [
        {
          "begin": "(要求)\\s{",
          "beginCaptures": {
            "0": {
              "name": "keyword.control.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#condition"
            }
          ],
          "name": "meta.conditions.re0"
        }
      ]
    },
    "condition": {
      "patterns": [
        {
          "match": "\\p{L}+\\s*[><=]\\s*\\d+",
          "name": "keyword.operator.comparison.re0"
        }
      ]
    },
    "effects": {
      "patterns": [
        {
          "begin": "效果\\s*{",
          "beginCaptures": {
            "0": {
              "name": "keyword.control.re0"
            }
          },
          "end": "}",
          "patterns": [
            {
              "include": "#effect"
            }
          ],
          "name": "meta.effects.re0"
        }
      ]
    },
    "effect": {
      "patterns": [
        {
          "match": "\\p{L}\\s=\\s*\\d+",
          "name": "variable.other.property.re0"
        },
        {
          "match": "若\\s+\\p{L}+\\s+有",
          "name": "meta.condition.re0"
        },
        {
          "match": "否则",
          "name": "keyword.control.re0"
        }
      ]
    }
  }
}
